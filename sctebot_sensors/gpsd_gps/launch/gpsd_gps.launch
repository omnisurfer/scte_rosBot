<launch>

    <arg name="robot_namespace" default="/sctebot"/>
    <arg name="gpsName" default="garmin_18x"/>
    <arg name="hostIP" default="localhost"/>
    <arg name="hostPort" default="2947"/>
    <arg name="nodeName" default="ros-pi-node"/>

    <group ns="$(arg robot_namespace)">
        <!--
        address must match the hostname EXACTLY and/or be all lower case. Otherwise get known_hosts error.
        -->
        <machine name="ros-pi-node" user="user" address="ros-pi-node" default="never" env-loader="/opt/ros/noetic/env.sh" timeout="10"/>
        <machine name="ros-vm-node" user="user" address="ros-vm-node" default="never" env-loader="/opt/ros/noetic/env.sh" timeout="10"/>

        <node name="$(arg gpsName)" pkg="gpsd_client" type="gpsd_client" output="screen" machine="$(arg nodeName)">
            <param name="_host" value="$(arg hostIP)"/>
            <param name="_port" value="$(arg hostPort)"/>
            <remap from="fix" to="$(arg gpsName)/gps/fix"/>
            <remap from="extended_fix" to="$(arg gpsName)/gps/extended_fix"/>
        </node>
    </group>
</launch>